[{"path":"https://github.com/openwashdata/waterpumpkwale/articles/examples.html","id":"hand-pump-location-map","dir":"Articles","previous_headings":"","what":"Hand Pump Location Map","title":"Example: track pump location and volume change","text":"Using location dataset, can plot interactive map show locations hand pumps. Notice pump ID starts letter “”, “B”, “C”, “D”, “E”, may refer group pumps belong . assumption, enable group option leaflet can select group displayed. can observe group pumps mostly located along coastal line. Group B two clusters: one along coastal line upper north Ukunda southwest. majority group C clustered middle region near Msambweni. Group D pumps located along highway A7 north. Finally, Group E pumps spreads along A7 . display pumps different groups? Follow steps: Start examining pumpid variable; indicates group pump belongs . group pumps, need add markers map. , use addMarkers function leaflet package. Within addMarkers call, must specify part data corresponds one group. Observe taht pumpid variable starts letter indicating group, e.g., “” “/01/09”. Extract pumps specific group using startsWith function: startsWith(pumpid, \"\"). Apply pattern filter location data using location |> dplyr::filter(startsWith(pumpid, \"\")). can run alone see results smaller dataframe. Use filtered data input data parameter addMarkers. adding layers different groups, may want control groups visible map. instance, might want display groups E. achieve flexibility, add final step using addLayersControl specify groups want control overlayGroups parameter. Ensure use labels assigned group step 3.","code":"# customize marker icon  handpumpicon <- makeIcon(   iconUrl = \"https://cdn-icons-png.flaticon.com/512/5984/5984318.png\",   iconWidth = 30, iconHeight = 30 )  # plot an interactive map with group option handpumpmap <- leaflet(options = leafletOptions(crs = leafletCRS(proj4def = \"WGS84\"))) %>% # declare coordinate system   addProviderTiles(\"OpenStreetMap\") %>%   addMarkers(     data = waterpumpkwale::location |> dplyr::filter(startsWith(pumpid, \"A\")), # select pump id that starts with a particular string pattern     lng = ~`long_wgs84`,     lat = ~`lat_wgs84`,     popup = ~pumpid,     label = ~description,     icon = handpumpicon,     group = \"Pump ID: A\"   ) |>   addMarkers(     data = waterpumpkwale::location |> dplyr::filter(startsWith(pumpid, \"B\")),     lng = ~`long_wgs84`,     lat = ~`lat_wgs84`,     popup = ~pumpid,     label = ~description,     icon = handpumpicon,     group = \"Pump ID: B\"   ) |>   addMarkers(     data = waterpumpkwale::location |> dplyr::filter(startsWith(pumpid, \"C\")),     lng = ~`long_wgs84`,     lat = ~`lat_wgs84`,     popup = ~pumpid,     label = ~description,     icon = handpumpicon,     group = \"Pump ID: C\"   ) |>   addMarkers(     data = waterpumpkwale::location |> dplyr::filter(startsWith(pumpid, \"D\")),     lng = ~`long_wgs84`,     lat = ~`lat_wgs84`,     popup = ~pumpid,     label = ~description,     icon = handpumpicon,     group = \"Pump ID: D\"   ) |>   addMarkers(     data = waterpumpkwale::location |> dplyr::filter(startsWith(pumpid, \"E\")),     lng = ~`long_wgs84`,     lat = ~`lat_wgs84`,     popup = ~pumpid,     label = ~description,     icon = handpumpicon,     group = \"Pump ID: E\"   ) |>   # Layers control   addLayersControl(     overlayGroups  = c(\"Pump ID: A\", \"Pump ID: B\", \"Pump ID: C\", \"Pump ID: D\", \"Pump ID: E\"),     options = layersControlOptions(collapsed = FALSE)   )  handpumpmap"},{"path":"https://github.com/openwashdata/waterpumpkwale/articles/examples.html","id":"weekly-volume-change","dir":"Articles","previous_headings":"","what":"Weekly Volume Change","title":"Example: track pump location and volume change","text":"Now, roughly know location distribution pumps. Let’s digest data bit ! dataset amazingly recording every week year can explore seasonal patterns hand pumps.","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/articles/examples.html","id":"how-does-weekly-volume-change-in-2014-and-2015","dir":"Articles","previous_headings":"Weekly Volume Change","what":"How does weekly volume change in 2014 and 2015?","title":"Example: track pump location and volume change","text":"answer question, going plot heatmap show weekly volumes. heatmap intuitive plot observe, example, weeks larger volumes water? two pumps performing similar? pumps weeks missing monitoring? First, plot heatmap year 2014:  Similarly, plot heatmap year 2015:  figures, can roughly see weeks usually larger volumes (e.g., around week 10) many pumps -monitored (.e., value recorded). also pumps records weeks year typically weeks second half year. compare two pumps, figures might hard read since around 300 pumps plotted figure. Therefore, can zoom-little, can plot several pumps plot group pumps providing filtered data. Let’s take group E year 2015:  questions: pumps many NA values? pumps improvement year 2015 year 2014?","code":"# Pivot the data for easier plotting weeklyvol2014_long <- pivot_longer(weeklyvol2014, 2:53, names_to = \"week\")                        # dplyr::filter(stringr::str_starts(pumpid, \"C\"))  # Set an order for plotting from largest volume to smallest facility_order <- weeklyvol2014_long |>    group_by(pumpid) |>   summarize(tot_vol = sum(value, na.rm=T)) |>   arrange(tot_vol)  weeklyvol2014_long <- weeklyvol2014_long %>%   mutate(pumpid = fct_relevel(     pumpid, facility_order$pumpid   ))  # Visualization ggplot(weeklyvol2014_long, aes(x = as.integer(week), y = pumpid, fill = value)) +   geom_tile(color = \"white\") +   scale_fill_gradient(low = \"white\", high = \"steelblue\", na.value = \"grey80\") +   theme_minimal() +   # Aesthetic    theme(     axis.ticks.y = element_blank(),     axis.text.y = element_blank()     ) +   labs(     x = \"Week\",     y = \"Pump ID\",      title = \"Weekly volume in 2014\",     subtitle = \"Sorted by total volume largest to smallest\"   ) weeklyvol2015_long <- pivot_longer(weeklyvol2015, 2:53, names_to = \"week\")                        # dplyr::filter(stringr::str_starts(pumpid, \"C\")) facility_order <- weeklyvol2015_long |>    group_by(pumpid) |>   summarize(tot_vol = sum(value, na.rm=T)) |>   arrange(tot_vol)  weeklyvol2015_long <- weeklyvol2015_long %>%   mutate(pumpid = fct_relevel(     pumpid, facility_order$pumpid   ))  ggplot(weeklyvol2015_long, aes(x = as.integer(week), y = pumpid, fill = value)) +   geom_tile(color = \"white\") +   scale_fill_gradient(low = \"white\", high = \"steelblue\", na.value = \"grey80\") +   theme_minimal() +   # Aesthetic    theme(     axis.ticks.y = element_blank(),     axis.text.y = element_blank()     ) +   labs(     x = \"Week\",     y = \"Pump ID\",     title = \"Weekly volume in 2015\",     subtitle = \"Sorted by total volume largest to smallest\"   ) group_e_2015 <- weeklyvol2015_long |> dplyr::filter(startsWith(as.character(pumpid), \"E\"))  ggplot(group_e_2015, aes(x = as.integer(week), y = pumpid, fill = value)) +   geom_tile(color = \"white\") +   scale_fill_gradient(low = \"white\", high = \"steelblue\", na.value = \"grey80\") +   theme_minimal() +   # Aesthetic    labs(     x = \"Week\",     y = \" Pump ID\",     title = \"Weekly volume in 2015\",     subtitle = \"Group E, sorted by total volume largest to smallest   \"   )"},{"path":"https://github.com/openwashdata/waterpumpkwale/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Patrick Thomson. Author. Rob Hope. Author. Tim Foster. Author. Mian Zhong. Author, maintainer.","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Thomson P, Hope R, Foster T, Zhong M (2023). “waterpumpkwale: Weekly volume water pumped handpumps monitored Smart Handpump technology, Kwale County, Kenya.” doi:10.5281/zenodo.8399887.","code":"@Misc{thomson_etall:2023,   title = {waterpumpkwale: Weekly volume of water pumped for handpumps monitored with Smart Handpump technology, Kwale County, Kenya},   author = {Patrick Thomson and Rob Hope and Tim Foster and Mian Zhong},   year = {2023},   doi = {10.5281/zenodo.8399887},   abstract = {A dataset contains a summary of the weekly volumetric output of pumps monitored using Smart Handpump sensors for 2014 and 2015 in Kwale County of Kenya.},   version = {0.0.1}, }"},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"waterpumpkwale","dir":"","previous_headings":"","what":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"goal waterpumpkwale provide datasets monitoring weekly volume hand pumps Kwale, Kenya. package contains valuable information geo-locations hand pumps Kwale well monitoring data recorded year 2014 2015. data collected part project UPGro (Unlocking Potential Groundwater Poor) aimed improve evidence understanding groundwater across Sub-Saharan Africa help tackle poverty.","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"can install development version waterpumpkwale GitHub : Alternatively, can download individual datasets CSV XLSX file table .","code":"# install.packages(\"devtools\") devtools::install_github(\"openwashdata/waterpumpkwale\")"},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"dataset contains summary weekly volumetric output pumps monitored using Smart Handpump sensors 2014 2015 Kwale, Kenya.12 Notes: accuracy volume figures considered +/- 20%. dataset gaps due variable signal, attrition due damage vandalism. pumps study area monitoring.","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"data","dir":"","previous_headings":"","what":"Data","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"package provides access three datasets location, weeklyvol2014, weeklyvol2015.","code":"library(waterpumpkwale)"},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"location-data","dir":"","previous_headings":"Data","what":"location data","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"location data set 6 variables 299 observations. record 299 hand pumps location information. overview variable names, see following table.","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"weeklyvol2014-and-weeklyvol2015-data","dir":"","previous_headings":"Data","what":"weeklyvol2014 and weeklyvol2015 data","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"weeklyvol2014 data set 53 variables 324 observations. weeklyvol2015 data set 53 variables 297 observations. two datasets follow structure use weeklyvol2014 illustration. overview variable names, see following table.","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"can look hand pumps locate Kwale using dataset location. data exploration, may check detailed example . Screenshot hand pump location map","code":"library(leaflet) # customize marker icon  handpumpicon <- makeIcon(   iconUrl = \"https://cdn-icons-png.flaticon.com/512/5984/5984318.png\",   iconWidth = 30, iconHeight = 30 )  # Display an interactive map leaflet(options = leafletOptions(crs = leafletCRS(proj4def = \"WGS84\"))) |>   addProviderTiles(\"OpenStreetMap\") |>   addMarkers(     data = location,     lng = ~`long_wgs84`,     lat = ~`lat_wgs84`,     popup = ~pumpid,     label = ~`description`,     icon = handpumpicon )"},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"Data available CC-.","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"use data package, consider cite package following information give credits authors dataset!","code":"citation(\"waterpumpkwale\") #> To cite package 'waterpumpkwale' in publications use: #>  #>   Thomson P, Hope R, Foster T, Zhong M (2023). \"waterpumpkwale: Weekly #>   volume of water pumped for handpumps monitored with Smart Handpump #>   technology, Kwale County, Kenya.\" doi:10.5281/zenodo.8399887 #>   <https://doi.org/10.5281/zenodo.8399887>. #>  #> A BibTeX entry for LaTeX users is #>  #>   @Misc{thomson_etall:2023, #>     title = {waterpumpkwale: Weekly volume of water pumped for handpumps monitored with Smart Handpump technology, Kwale County, Kenya}, #>     author = {Patrick Thomson and Rob Hope and Tim Foster and Mian Zhong}, #>     year = {2023}, #>     doi = {10.5281/zenodo.8399887}, #>     abstract = {A dataset contains a summary of the weekly volumetric output of pumps monitored using Smart Handpump sensors for 2014 and 2015 in Kwale County of Kenya.}, #>     version = {0.0.1}, #>   }"},{"path":"https://github.com/openwashdata/waterpumpkwale/index.html","id":"related-references","dir":"","previous_headings":"Citation","what":"Related References","title":"Weekly volume of water pumped for handpumps monitored with Smart Handpump \n    technology, Kwale County, Kenya","text":"[1] P. Thomson, R. Hope, T. Foster, “GSM-enabled remote monitoring rural handpumps: proof--concept study,” Journal Hydroinformatics, vol. 14, . 4, pp. 829–839, 05 2012. [Online]. Available: https://doi.org/10.2166/hydro.2012.183 [2] Behar, J., Guazzi, ., Jorge, J., Laranjeira, S., Maraci, M.., Papastylianou, T., Thomson, P., Clifford, G.D. Hope, R.., 2013. Software architecture monitor handpump performance rural Kenya. Proceedings 12th International Conference Social Implications Computers Developing Countries, Ochos Rios, Jamaica. pp. 978 (Vol. 991).","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/reference/location.html","id":null,"dir":"Reference","previous_headings":"","what":"Location information of the water pumps — location","title":"Location information of the water pumps — location","text":"Location information water pumps","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/reference/location.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Location information of the water pumps — location","text":"","code":"location"},{"path":"https://github.com/openwashdata/waterpumpkwale/reference/location.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Location information of the water pumps — location","text":"tibble 299 rows 6 variables PumpID ID number water pump Name/Description Name pump location X (Arc 1960) Longitude Arc 1960 coordinate system Y (Arc 1960) Latitude Arc 1960 coordinate system Lat (WGS84) Latitude WGS 84 coordinate system Long (WGS84) Longitude WGS 84 coordinate system","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/reference/weeklyvol2014.html","id":null,"dir":"Reference","previous_headings":"","what":"Weekly volume in year 2014 — weeklyvol2014","title":"Weekly volume in year 2014 — weeklyvol2014","text":"Weekly volume year 2014","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/reference/weeklyvol2014.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weekly volume in year 2014 — weeklyvol2014","text":"","code":"weeklyvol2014"},{"path":"https://github.com/openwashdata/waterpumpkwale/reference/weeklyvol2014.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Weekly volume in year 2014 — weeklyvol2014","text":"tibble 324 rows 53 variables PumpID ID number water pump n column indicates week number 1, 2, 3, ..., 52","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/reference/weeklyvol2015.html","id":null,"dir":"Reference","previous_headings":"","what":"Weekly volume in year 2015 — weeklyvol2015","title":"Weekly volume in year 2015 — weeklyvol2015","text":"Weekly volume year 2015","code":""},{"path":"https://github.com/openwashdata/waterpumpkwale/reference/weeklyvol2015.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weekly volume in year 2015 — weeklyvol2015","text":"","code":"weeklyvol2015"},{"path":"https://github.com/openwashdata/waterpumpkwale/reference/weeklyvol2015.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Weekly volume in year 2015 — weeklyvol2015","text":"tibble 297 rows 53 variables PumpID ID number water pump n column indicates week number 1, 2, 3, ..., 52","code":""}]
